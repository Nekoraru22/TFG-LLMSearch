%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Plantilla TFG/TFM
% Escuela Politécnica Superior de la Universidad de Alicante
% Realizado por: Jose Manuel Requena Plens
% Contacto: info@jmrplens.com / Telegram:@jmrplens
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% \chapter{Anexo 3}
\chapter{Prompt para verificación de información}
\label{anx:prompt_verify}

A continuación, se presenta el prompt que se le proporciona al modelo final de lenguaje para la verificación de la información recuperada de la base de datos ChromaDB. Gracias a este prompt, se logra que el modelo no solo verifique la información, sino que también la reordene y elimine entradas irrelevantes, lo que es fundamental para garantizar la calidad de los resultados obtenidos.

\begin{lstlisting}[caption={Prompt para la descripción de imágenes.}, label={lst:prompt_img_desc}]
Original Query: {query}

Relevant data (from ChromaDB):
{data_json}

Task:
- Discard entries irrelevant to the Original Query.
- Reorder only if strictly needed to match the query intent.
- Extract **only** the file paths (the substring after "Path:").
- **Output just** the final numbered list (start at 1), one path per line, with **no** additional text.

Example output:
Original Query: official document from the Spanish Ministry
1. ./filesystem/Notificacion_1742000847864 - copia.pdf
2. <path_to_another_relevant_document>
\end{lstlisting}